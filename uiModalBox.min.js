(function(){angular.module("uimodal.box",[]).service("uiModalService",function(){this.template=null,this.controller=null,this.actions=[],this.visible=!1,this.modalData=!1,this.init=function(t,i,l){this._reset(),this.template=t,this.controller=i||"",this.modalData=l||{}},this.addAction=function(t,i,l,o){this.actions.push({uid:t,label:i,method:o,cssClass:l||""})},this.show=function(){this.visible=!0},this.hide=function(){this.visible=!1},this.reset=function(){this._reset()},this._reset=function(){this.template=null,this.controller=null,this.actions=[],this.visible=!1,this.modalData=!1}}).directive("uiModalBox",function(t,i,l,o){return{restrict:"AE",replace:!0,link:function(e,s){e.modal=t,e.$watch("modal",function(){if(e.modal.template){var t=e.modal.template;i.get(t,{cache:l}).success(function(t){s.html(t).contents();e.modal.controller&&s.attr("ng-controller",e.modal.controller),s.removeAttr("ui-modal-box"),o(s)(e)})}},!0)}}})}).call(this);