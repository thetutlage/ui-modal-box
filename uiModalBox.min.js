(function(){angular.module("uimodal.box",[]).service("uiModalService",function(){this.template=null,this.controller=null,this.actions=[],this.visible=false,this.modalData=false,this.init=function(e,t,n){this._reset();this.template=e;this.controller=t||"";this.modalData=n||{}},this.addAction=function(e,t,n,r){this.actions.push({uid:e,label:t,method:r,cssClass:n||""})},this.show=function(){this.visible=true},this._reset=function(){this.template=null;this.controller=null;this.actions=[];this.visible=false;this.modalData=false}}).directive("uiModalBox",function(e,t,n,r){return{restrict:"AE",replace:true,link:function(i,s,o){i.modal=e;i.$watch("modal",function(){if(i.modal.template){var e=i.modal.template;t.get(e,{cache:n}).success(function(e){var t=s.html(e).contents();if(i.modal.controller){s.attr("ng-controller",i.modal.controller)}s.removeAttr("ui-modal-box");r(s)(i)})}},true)}}})}).call(this);